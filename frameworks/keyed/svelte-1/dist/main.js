function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t}function c(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}let m;function g(e){m=e}const h=[],b=Promise.resolve();let y=!1;const w=[],v=[],k=[];function x(e){v.push(e)}function N(){const e=new Set;do{for(;h.length;){const e=h.shift();g(e),_(e.$$)}for(;w.length;)w.shift()();for(;v.length;){const t=v.pop();e.has(t)||(t(),e.add(t))}}while(h.length);for(;k.length;)k.pop()();y=!1}function _(e){e.fragment&&(e.update(e.dirty),r(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(x))}let C;function L(e,t){var n;n=(()=>{!function(e,t){e.d(1),t.delete(e.key)}(e,t)}),C.callbacks.push(n),e.o(1)}function E(e,n,o){const{fragment:l,on_mount:c,on_destroy:s,after_render:i}=e.$$;l.m(n,o),x(()=>{const n=c.map(t).filter(a);s?s.push(...n):r(n),e.$$.on_mount=[]}),i.forEach(x)}function M(e,t){e.$$.dirty||(h.push(e),y||(y=!0,b.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function S(t,a,o,l,c,s){const i=m;g(t);const d=a.props||{},u=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var $;u.ctx=o?o(t,d,(e,n)=>{u.ctx&&c(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),f&&M(t,e))}):d,u.update(),f=!0,r(u.before_render),u.fragment=l(u.ctx),a.target&&(a.hydrate?u.fragment.l(($=a.target,Array.from($.childNodes))):u.fragment.c(),a.intro&&t.$$.fragment.i&&t.$$.fragment.i(),E(t,a.target,a.anchor),N()),g(i)}class A{$destroy(){var t,n;n=!0,(t=this).$$&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function U(t){var n,r,a,o;return{c(){n=d("div"),r=d("button"),a=u(t.title),r.type="button",r.className="btn btn-primary btn-block",r.id=t.id,n.className="col-sm-6 smallpad",o=$(r,"click",t.cb)},m(e,t){s(e,n,t),c(n,r),c(r,a)},p(e,t){e.title&&p(a,t.title),e.id&&(r.id=t.id)},i:e,o:e,d(e){e&&i(n),o()}}}function j(e,t,n){let{id:r,title:a,cb:o}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"title"in e&&n("title",a=e.title),"cb"in e&&n("cb",o=e.cb)}),{id:r,title:a,cb:o}}class q extends A{constructor(e){super(),S(this,e,j,U,l,["id","title","cb"])}}function R(t){var n,r;return{c(){var e,a,o;(n=d("span")).className=r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove",e=n,a="aria-hidden",null==(o="true")?e.removeAttribute(a):e.setAttribute(a,o)},m(e,t){s(e,n,t)},p(e,t){e.preload&&r!==(r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove")&&(n.className=r)},i:e,o:e,d(e){e&&i(n)}}}function z(e,t,n){let{preload:r=!1}=t;return e.$set=(e=>{"preload"in e&&n("preload",r=e.preload)}),{preload:r}}class I extends A{constructor(e){super(),S(this,e,z,R,l,["preload"])}}function O(e){var t,n,r,a,o,l,$,m,g,h,b,y,w,v,k=new I({});return{c(){t=d("tr"),n=d("td"),r=u(e.id),a=f(),o=d("td"),l=d("a"),$=u(e.label),m=f(),g=d("td"),h=d("a"),k.$$.fragment.c(),b=f(),y=d("td"),n.className="col-md-1",o.className="col-md-4",g.className="col-md-1",y.className="col-md-6",t.className=w=e.selected?"danger":""},m(e,i){s(e,t,i),c(t,n),c(n,r),c(t,a),c(t,o),c(o,l),c(l,$),c(t,m),c(t,g),c(g,h),E(k,h,null),c(t,b),c(t,y),v=!0},p(e,n){v&&!e.id||p(r,n.id),v&&!e.label||p($,n.label),v&&!e.selected||w===(w=n.selected?"danger":"")||(t.className=w)},i(e){v||(k.$$.fragment.i(e),v=!0)},o(e){k.$$.fragment.o(e),v=!1},d(e){e&&i(t),k.$destroy()}}}function T(e,t,n){let{id:r,label:a,selected:o}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"label"in e&&n("label",a=e.label),"selected"in e&&n("selected",o=e.selected)}),{id:r,label:a,selected:o}}class B extends A{constructor(e){super(),S(this,e,T,O,o,["id","label","selected"])}}function H(e,t,n){const r=Object.create(e);return r.row=t[n],r.num=n,r}function P(e,t){var n,r,a=new B({props:{id:t.row.id,label:t.row.label,selected:t.row.id===t.selected}});return{key:e,first:null,c(){n=u(""),a.$$.fragment.c(),this.first=n},m(e,t){s(e,n,t),E(a,e,t),r=!0},p(e,t){var n={};e.data&&(n.id=t.row.id),e.data&&(n.label=t.row.label),(e.data||e.selected)&&(n.selected=t.row.id===t.selected),a.$set(n)},i(e){r||(a.$$.fragment.i(e),r=!0)},o(e){a.$$.fragment.o(e),r=!1},d(e){e&&i(n),a.$destroy(e)}}}function V(e){var t,n,a,o,l,u,p,m,g,h,b,y,w,v,k,x,N,_=[],M=new Map,S=new q({props:{id:"run",title:"Create 1,000 rows",cb:e.run}}),A=new q({props:{id:"runlots",title:"Create 10,000 rows",cb:e.runLots}}),U=new q({props:{id:"add",title:"Append 1,000 rows",cb:e.add}}),j=new q({props:{id:"update",title:"Update every 10th row",cb:e.partialUpdate}}),R=new q({props:{id:"clear",title:"Clear",cb:e.clear}}),z=new q({props:{id:"swaprows",title:"Swap rows",cb:e.swapRows}}),O=e.data;const T=e=>e.row.id;for(var B=0;B<O.length;B+=1){let t=H(e,O,B),n=T(t);M.set(n,_[B]=P(n,t))}var V=new I({props:{preload:!0}});return{c(){for(t=d("div"),n=d("div"),(a=d("div")).innerHTML="<h1>Svelte (keyed)</h1>",o=f(),l=d("div"),u=d("div"),S.$$.fragment.c(),p=f(),A.$$.fragment.c(),m=f(),U.$$.fragment.c(),g=f(),j.$$.fragment.c(),h=f(),R.$$.fragment.c(),b=f(),z.$$.fragment.c(),y=f(),w=d("table"),v=d("tbody"),B=0;B<_.length;B+=1)_[B].c();k=f(),V.$$.fragment.c(),a.className="col-md-6",u.className="row",l.className="col-md-6",n.className="row",t.className="jumbotron",w.className="table table-hover table-striped test-data",N=$(v,"click",e.click)},m(e,r){for(s(e,t,r),c(t,n),c(n,a),c(n,o),c(n,l),c(l,u),E(S,u,null),c(u,p),E(A,u,null),c(u,m),E(U,u,null),c(u,g),E(j,u,null),c(u,h),E(R,u,null),c(u,b),E(z,u,null),s(e,y,r),s(e,w,r),c(w,v),B=0;B<_.length;B+=1)_[B].m(v,null);s(e,k,r),E(V,e,r),x=!0},p(e,t){var n={};e.run&&(n.cb=t.run),S.$set(n);var a={};e.runLots&&(a.cb=t.runLots),A.$set(a);var o={};e.add&&(o.cb=t.add),U.$set(o);var l={};e.partialUpdate&&(l.cb=t.partialUpdate),j.$set(l);var c={};e.clear&&(c.cb=t.clear),R.$set(c);var s={};e.swapRows&&(s.cb=t.swapRows),z.$set(s);const i=t.data;C={remaining:0,callbacks:[]},_=function(e,t,n,r,a,o,l,c,s,i,d,u){let f=e.length,$=o.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],h=new Map,b=new Map;for(p=$;p--;){const e=u(a,o,p),c=n(e);let s=l.get(c);s?r&&s.p(t,e):(s=i(c,e)).c(),h.set(c,g[p]=s),c in m&&b.set(c,Math.abs(p-m[c]))}const y=new Set,w=new Set;function v(e){e.i&&e.i(1),e.m(c,d),l.set(e.key,e),d=e.first,$--}for(;f&&$;){const t=g[$-1],n=e[f-1],r=t.key,a=n.key;t===n?(d=t.first,f--,$--):h.has(a)?!l.has(r)||y.has(r)?v(t):w.has(a)?f--:b.get(r)>b.get(a)?(w.add(r),v(t)):(y.add(a),f--):(s(n,l),f--)}for(;f--;){const t=e[f];h.has(t.key)||s(t,l)}for(;$;)v(g[$-1]);return g}(_,e,T,1,t,i,M,v,L,P,null,H),C.remaining||r(C.callbacks)},i(e){if(!x){S.$$.fragment.i(e),A.$$.fragment.i(e),U.$$.fragment.i(e),j.$$.fragment.i(e),R.$$.fragment.i(e),z.$$.fragment.i(e);for(var t=0;t<O.length;t+=1)_[t].i();V.$$.fragment.i(e),x=!0}},o(e){for(S.$$.fragment.o(e),A.$$.fragment.o(e),U.$$.fragment.o(e),j.$$.fragment.o(e),R.$$.fragment.o(e),z.$$.fragment.o(e),B=0;B<_.length;B+=1)_[B].o();V.$$.fragment.o(e),x=!1},d(e){for(e&&i(t),S.$destroy(),A.$destroy(),U.$destroy(),j.$destroy(),R.$destroy(),z.$destroy(),e&&(i(y),i(w)),B=0;B<_.length;B+=1)_[B].d();e&&i(k),V.$destroy(e),N()}}}function D(e,t,n){let r=0;const a=e=>{const t=r++%e;return n("seed",r),t},o=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],l=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],c=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];let s=1,i=[],d=-1;function u(e){const t=Array(e);for(let r=0;r<e;r++)t[r]={id:s++,label:`${o[a(o.length)]} ${l[a(l.length)]} ${c[a(c.length)]}`},n("nextId",s);return t}return{data:i,selected:d,add:()=>{n("data",i=i.concat(u(1e3)))},clear:()=>{n("data",i=[]),n("selected",d=0)},partialUpdate:()=>{for(let e=0;e<i.length;e+=10)i[e].label+=" !!!",n("data",i)},run:()=>{n("data",i=u(1e3)),n("selected",d=0)},runLots:()=>{n("data",i=u(1e4)),n("selected",d=0)},swapRows:()=>{if(i.length>998){n("data",i=i.slice());const e=i[1];i[1]=i[998],n("data",i),i[998]=e,n("data",i)}},click:({target:e})=>{const t=Number.parseInt(e.closest("tr").firstChild.firstChild.nodeValue);e.matches(".glyphicon-remove")?(e=>{const t=i.findIndex(t=>t.id===e);n("data",i=i.slice()),i.splice(t,1)})(t):(e=>{n("selected",d=e)})(t)}}}new class extends A{constructor(e){super(),S(this,e,D,V,o,[])}}({target:document.querySelector("#main")});

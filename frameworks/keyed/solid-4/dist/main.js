!function(){"use strict";var e=function(e,t){var n=new r(e,t);return function(){return n.current()}};Object.defineProperty(e,"default",{value:e}),e.root=function(e){var t=p,n=0===e.length?g:new r(null,null),l=void 0,o=0===e.length?null:function(){null!==d?f.disposes.add(n):A(n)};return p=n,null===d?l=function(e,t,n){try{return null===t?e():e(t)}finally{p=n}}(e,o,t):(l=null===o?e():e(o),p=t),l},e.on=function(t,n,l,r){var o;return Array.isArray(t)&&(o=t,t=function(){for(var e=0;e<o.length;e++)o[e]()}),r=!!r,e(i,l);function i(e){var l=h;return t(),r?r=!1:(h=null,e=n(e),h=l),e}},e.effect=function(e,t){new r(e,t)},e.data=function(e){var t=new l(e);return function(e){return 0===arguments.length?t.current():t.next(e)}},e.value=function(t,n){var l=e.data(t),r=-1;return function(e){if(0===arguments.length)return l();if(!(n?n(t,e):t===e)){var o=f.time;if(r===o)throw new Error("conflicting values: "+e+" is not the same as "+t);r=o,t=e,l(e)}return e}},e.freeze=function(e){var t=void 0;if(null!==d)t=e();else{(d=f).changes.reset();try{t=e(),m()}finally{d=null}}return t},e.sample=function(e){var t,n=h;return null!==n?(h=null,t=e(),h=n):t=e(),t},e.cleanup=function(e){null!==p?null===p.cleanups?p.cleanups=[e]:p.cleanups.push(e):console.warn("cleanups created without a root or parent will never be run")},e.makeDataNode=function(e){return new l(e)},e.makeComputationNode=function(e,t){return new r(e,t)},e.isFrozen=function(){return null!==d},e.isListening=function(){return null!==h};var t=function(){return function(){this.time=0,this.changes=new i,this.updates=new i,this.disposes=new i}}(),n={time:function(){return f.time}},l=function(){function e(e){this.value=e,this.pending=s,this.log=null}return e.prototype.current=function(){return null!==h&&function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h),this.value},e.prototype.next=function(e){if(null!==d)if(this.pending!==s){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,f.changes.add(this);else null!==this.log?(this.pending=e,f.changes.add(this),m()):this.value=e;return e},e.prototype.clock=function(){return n},e}(),r=function(){function e(e,t){if(this.state=u,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=e,this.value=t,this.age=f.time,null!==e){var n=p,l=h;null===n&&console.warn("computations created without a root or parent will never be disposed"),p=h=this,null===d?function(e){d=f,f.changes.reset(),f.updates.reset();try{e.value=e.fn(e.value),(f.changes.count>0||f.updates.count>0)&&(f.time++,b(f))}finally{d=p=h=null}}(this):this.value=this.fn(this.value),n&&n!==g&&(null===n.owned?n.owned=[this]:n.owned.push(this)),p=n,h=l}}return e.prototype.current=function(){if(null!==h){if(this.age===f.time){if(this.state===a)throw new Error("circular dependency");C(this)}!function(e,t){null===e.log&&(e.log=new o);y(e.log,t)}(this,h)}return this.value},e.prototype.clock=function(){return n},e}(),o=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),i=function(){function e(){this.items=[],this.count=0}return e.prototype.reset=function(){this.count=0},e.prototype.add=function(e){this.items[this.count++]=e},e.prototype.run=function(e){for(var t=this.items,n=0;n<this.count;n++)e(t[n]),t[n]=null;this.count=0},e}(),s={},u=0,c=1,a=2,f=new t,d=null,h=null,p=null,g=new r(null,null);function y(e,t){var n,l=null===t.source1?-1:null===t.sources?0:t.sources.length;null===e.node1?(e.node1=t,e.node1slot=l,n=-1):null===e.nodes?(e.nodes=[t],e.nodeslots=[l],n=0):(n=e.nodes.length,e.nodes.push(t),e.nodeslots.push(l)),null===t.source1?(t.source1=e,t.source1slot=n):null===t.sources?(t.sources=[e],t.sourceslots=[n]):(t.sources.push(e),t.sourceslots.push(n))}function m(){var e=p;f.updates.reset(),f.time++;try{b(f)}finally{d=h=null,p=e}}function b(e){var t=d,n=0;for(d=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(n>0&&e.time++,e.changes.run(v),e.updates.run(C),e.disposes.run(A),n++>1e5)throw new Error("Runaway clock detected");d=t}function v(e){e.value=e.pending,e.pending=s,e.log&&x(e.log)}function x(e){var t=e.node1,n=e.nodes;if(null!==t&&w(t),null!==n)for(var l=0,r=n.length;l<r;l++)w(n[l])}function w(e){var t=f.time;e.age<t&&(e.age=t,e.state=c,f.updates.add(e),null!==e.owned&&function e(t){for(var n=0;n<t.length;n++){var l=t[n];l.age=f.time,l.state=u,null!==l.owned&&e(l.owned)}}(e.owned),null!==e.log&&x(e.log))}function C(e){if(e.state===c){var t=p,n=h;p=h=e,e.state=a,S(e,!1),e.value=e.fn(e.value),e.state=u,p=t,h=n}}function S(e,t){var n,l,r=e.source1,o=e.sources,i=e.sourceslots,s=e.cleanups,u=e.owned;if(null!==s){for(n=0;n<s.length;n++)s[n](t);e.cleanups=null}if(null!==u){for(n=0;n<u.length;n++)A(u[n]);e.owned=null}if(null!==r&&(N(r,e.source1slot),e.source1=null),null!==o)for(n=0,l=o.length;n<l;n++)N(o.pop(),i.pop())}function N(e,t){var n,l,r=e.nodes,o=e.nodeslots;-1===t?e.node1=null:(n=r.pop(),l=o.pop(),t!==r.length&&(r[t]=n,o[t]=l,-1===l?n.source1slot=t:n.sourceslots[l]=t))}function A(e){e.fn=null,e.log=null,S(e,!0)}const k=e,_=e.root,T=e.sample,E=e.cleanup,j="__rGroup",M="nextSibling",L="previousSibling";let z=0;function O(e,t,n,l){if(Array.isArray(t)){if(!t.length)return;let r=(t=function e(t,n){for(let l=0,r=n.length;l<r;l++){let r=n[l];r instanceof Node?11===r.nodeType?e(t,r.childNodes):t.push(r):null==r||!0===r||!1===r||(Array.isArray(r)?e(t,r):"string"==typeof r?t.push(document.createTextNode(r)):t.push(document.createTextNode(r.toString())))}return t}([],t))[0];1!==t.length&&(r[j]=t[t.length-1][j]=l);for(let l=0;l<t.length;l++)n?e.insertBefore(t[l],n):e.appendChild(t[l]);return r}let r,o=typeof t;return"string"===o||"number"===o?t=document.createTextNode(t):11===t.nodeType&&(r=t.firstChild)&&r!==t.lastChild&&(r[j]=t.lastChild[j]=l),n?e.insertBefore(t,n):e.appendChild(t),r||t}function B(e,t,n){const l=e[j];if(l)for(e=e[t];e&&e[j]!==l;)e=e[t];return n?e:e[t]}function H(e,t,n){let l;for(;t!==n;)l=t.nextSibling,e.removeChild(t),t=l}function P(e,t,n,l){return n?(Array.isArray(t)?l=t[0]:null!=t&&""!=t&&void 0===l&&(l=B(n.previousSibling,L,!0)),l&&H(e,l,n),""):e.textContent=""}function D(e,t,n,l){if(t===n)return n;e=l&&l.parentNode||e;const r=typeof t;if("string"===r||"number"===r)if("number"===r&&(t=t.toString()),l){if(""===t)P(e,n,l);else if(""!==n&&"string"==typeof n)l.previousSibling.data=t;else{const r=document.createTextNode(t);""!==n&&null!=n?e.replaceChild(r,l.previousSibling):e.insertBefore(r,l)}n=t}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===r)n=P(e,n,l);else if("function"===r)k(function(){n=D(e,t(),n,l)});else{if(!(t instanceof Node||Array.isArray(t)))throw new Error("content must be Node, stringable, or array of same");P(e,n,l),O(e,t,l,++z),n=t}return n}function F(e,t,n,l){if("function"!=typeof t)return D(e,t,n,l);k((r=n)=>D(e,t(),r,l))}const R=new Set;function $(e){return e&&(e.model||$(e.host||e.parentNode))}function q(e){const t=`__${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n});null!==n;){const l=n[t];if(l){if(l(e,l.length>1?$(n):void 0),e.cancelBubble)return}n=n.host||n.parentNode}}function I(e,t,n,l){let r;for(;t!==n;)r=t.nextSibling,e.insertBefore(t,l),t=r}function G(e,t){let n;(n=e.get(t))&&n(),e.delete(t)}function J(e,t){let n=-1,l=e.length;if(l>0&&e[l-1]<=t)return l-1;for(;l-n>1;){let r=Math.floor((n+l)/2);e[r]>t?l=r:n=r}return n}function K(e,t,n,l,r){let o=new Map,i=!1,s=r?r.previousSibling:null;const{afterRender:u,fallback:c}=l;function a(t,l,r){return _(i=>{const s=O(e,n(t,l),r,++z);return o.set(s,i),s})}function f(){u&&u(s?s.nextSibling:e.firstChild,r)}E(function(){for(let e of o.keys())o.get(e)();o.clear()}),k((n=[])=>{const l=t()||[];return T(()=>{e=r&&r.parentNode||e;const t=l.length;if(i){if(void 0!==s||void 0!==r){let t=null!=s?s.nextSibling:e.firstChild;H(e,t,void 0===r?null:r)}else e.textContent="";for(let e of o.keys())o.get(e)();o.clear(),i=!1}if(0===t){if(void 0!==s||void 0!==r){let t=null!=s?s.nextSibling:e.firstChild;H(e,t,void 0===r?null:r)}else e.textContent="";for(let e of o.keys())o.get(e)();return o.clear(),f(),c&&(i=!0,_(t=>{const n=O(e,c(),r,++z);o.set(n,t)})),[]}if(0===n.length){let e=new Array(t);for(let n=0;n<t;n++)a(e[n]=l[n],n,r);return f(),e}let u,d,h=0,p=0,g=!0,y=n.length-1,m=t-1,b=s?s.nextSibling:e.firstChild,v=b,x=r?r.previousSibling:e.lastChild,w=r;e:for(;g;){let t;for(g=!1,u=n[h],d=l[p];u===d;){if(h++,p++,v=b=B(b,M),y<h||m<p)break e;u=n[h],d=l[p]}for(u=n[y],d=l[m];u===d;){if(y--,m--,x=(w=B(x,L,!0)).previousSibling,y<h||m<p)break e;u=n[y],d=l[m]}for(u=n[y],d=l[p];u===d;){g=!0;let r=(t=B(x,L)).nextSibling;if(v!==r&&(I(e,r,x.nextSibling,v),x=t),p++,--y<h||m<p)break e;u=n[y],d=l[p]}for(u=n[h],d=l[m];u===d;){if(g=!0,t=B(b,M),b!==w){let n=t.previousSibling;I(e,b,t,w),w=n,b=t}if(m--,y<++h||m<p)break e;u=n[h],d=l[m]}}if(m<p){if(h<=y){let t,n;for(;h<=y;)t=(n=B(x,L,!0)).previousSibling,H(e,n,x.nextSibling),G(o,n),x=t,y--}return f(),l.slice(0)}if(y<h){if(p<=m)for(;p<=m;)a(l[p],p,w),p++;return f(),l.slice(0)}const C=new Array(m+1-p);for(let e=p;e<=m;e++)C[e]=-1;const S=new Map;for(let e=p;e<=m;e++)S.set(l[e],e);let N=0,A=[];for(let e=h;e<=y;e++)S.has(n[e])?(C[S.get(n[e])]=e,N++):A.push(e);if(0===N){const t=b!==e.firstChild||x!==e.lastChild;let n,r=b;for(w=x.nextSibling;r!==w;)n=B(r,M),G(o,r),t&&H(e,r,n),r=n,h++;!t&&(e.textContent="");for(let e=p;e<=m;e++)a(l[e],e,w);return f(),l.slice(0)}const k=function(e,t){let n=[],l=[],r=-1,o=new Array(e.length);for(let i=t,s=e.length;i<s;i++){let t=e[i];if(t<0)continue;let s=J(n,t);-1!==s&&(o[i]=l[s]),s===r?(n[++r]=t,l[r]=i):t<n[s+1]&&(n[s+1]=t,l[s+1]=i)}for(let e=l[r];r>=0;e=o[e],r--)n[r]=e;return n}(C,p),T=[];let E,j=b,P=k.length-1;for(let e=h;e<=y;e++)T[e]=j,j=B(j,M);for(let t=0;t<A.length;t++){let n=T[A[t]];H(e,n,B(n,M)),G(o,n)}for(let t=m;t>=p;t--)k[P]===t?(w=T[C[k[P]]],P--):(-1===C[t]?E=a(l[t],t,w):(E=T[C[t]],I(e,E,B(E,M),w)),w=E);return f(),l.slice(0)})})}const U=Symbol("solid-node"),Q=Symbol("solid-proxy");function V(e){return e[Q]||(e[Q]=new Proxy(e,Z))}function W(e){return null!==e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function X(e){let t,n,l;if(t=null!=e&&e._state)return t;if(!W(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let t=0,r=e.length;t<r;t++)(n=X(l=e[t]))!==l&&(e[t]=n)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let t=Object.keys(e);for(let r=0,o=t.length;r<o;r++)(n=X(l=e[t[r]]))!==l&&(e[t[r]]=n)}return e}function Y(e){let t=e[U];return t||(e[U]=t={}),t}const Z={get(t,n){if("_state"===n)return t;if(n===Q||n===U)return;const l=t[n],r=W(l);if(e.isListening()&&"function"!=typeof l){let o,i;r&&(o=Y(l))&&(i=o._self||(o._self=e.makeDataNode(void 0))).current(),(i=(o=Y(t))[n]||(o[n]=e.makeDataNode(void 0))).current()}return r?V(l):l},set:()=>!0,deleteProperty:()=>!0};function ee(e,t,n){if(n=X(n),e[t]===n)return;const l=Array.isArray(e)||!(t in e);void 0===n?delete e[t]:e[t]=n;let r,o=Y(e);(r=o[t])&&r.next(),l&&(r=o._self)&&r.next()}function te(e,t){const n=Object.keys(t);for(let l=0;l<n.length;l+=1){const r=n[l];ee(e,r,t[r])}}function ne(e,t,n=[]){if(1===t.length){let l=t[0];if("function"==typeof l&&void 0===(l=l(V(e),n)))return;return void te(e,l)}const l=t.shift(),r=typeof l,o=Array.isArray(e);if(Array.isArray(l))for(let r=0;r<l.length;r++)ne(e,[l[r]].concat(t),n.concat([l[r]]));else if(o&&"function"===r)for(let r=0;r<e.length;r++)l(e[r],r)&&ne(e,[r].concat(t),n.concat([r]));else if(o&&"object"===r){const{from:r=0,to:o=e.length-1,by:i=1}=l;for(let l=r;l<=o;l+=i)ne(e,[l].concat(t),n.concat([l]))}else if(o&&"*"===l)for(let l=0;l<e.length;l++)ne(e,[l].concat(t),n.concat([l]));else if(1===t.length){let r=t[0];if("function"==typeof r){const t=e[l];r=r(W(t)?V(t):t,n.concat([l]))}W(e[l])&&W(r)&&!Array.isArray(r)?te(e[l],r):ee(e,l,r)}else ne(e[l],t,n.concat([l]))}const{root:le,cleanup:re,sample:oe,freeze:ie}=e,se=document.createElement("template"),ue=document.createElement("template"),ce=document.createElement("template"),ae=document.createElement("template"),fe=document.createElement("template"),de=document.createElement("template"),he=document.createElement("template");se.innerHTML="<div class='col-sm-6 smallpad'><button class='btn btn-primary btn-block' type='button'></button></div>",ue.innerHTML="<span aria-hidden='true'></span>",ce.innerHTML="<td></td>",ae.innerHTML="<a></a>",fe.innerHTML="<a></a>",de.innerHTML="<tr><td class='col-md-1'></td>\x3c!--10--\x3e\x3c!--12--\x3e\x3c!--13--\x3e</tr>",he.innerHTML="<div class='container'><div class='jumbotron'><div class='row'><div class='col-md-6'><h1>SolidJS Keyed</h1></div><div class='col-md-6'><div class='row'>\x3c!--20--\x3e\x3c!--21--\x3e\x3c!--22--\x3e\x3c!--23--\x3e\x3c!--24--\x3e\x3c!--25--\x3e</div></div></div></div><table class='table table-hover table-striped test-data'><tbody></tbody></table>\x3c!--28--\x3e</div>";let pe=1;const ge=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],ye=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],me=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],be=e=>Math.round(1e3*Math.random())%e;function ve(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]={id:pe++,label:`${ge[be(ge.length)]} ${ye[be(ye.length)]} ${me[be(me.length)]}`};return t}const xe=({id:e,text:t,fn:n})=>(function(){const l=se.content.firstChild.cloneNode(!0),r=l.firstChild;return r.__click=n,r.id=e,F(r,t),l})(),we=({preload:e})=>(function(){const t=ue.content.firstChild.cloneNode(!0);return k(()=>t.className=e?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove"),t})(),Ce=({className:e,children:t})=>(function(){const n=document.createDocumentFragment(),l=n.insertBefore(document.createTextNode(""),n.firstChild);return function(e,t,n,l,r){let o,i,s;const{afterRender:u,fallback:c}=l;r&&(o=r.previousSibling),E(function(){s&&s()}),k(l=>{const a=t();return a===l?l:T(()=>(e=r&&r.parentNode||e,s&&s(),null==a||!1===a?(P(e,i,r,o?o.nextSibling:e.firstChild),i=null,u&&u(i,r),c&&_(t=>{s=t,i=D(e,c(),i,r)}),a):(_(t=>{s=t,i=D(e,n(a),i,r)}),u&&u(i,r),a)))})}(n,()=>e,()=>(function(){const n=ce.content.firstChild.cloneNode(!0);return k(()=>n.className=e),F(n,t),n})(),{},l),n})(),Se=()=>{const[t,n]=function(t){return[V(t=X(t||{})),function(){const n=arguments;e.freeze(()=>{if(Array.isArray(n[0]))for(let e=0;e<n.length;e+=1)ne(t,n[e]);else ne(t,Array.prototype.slice.call(n))})}]}({data:[],selected:null}),l=()=>n({data:ve(1e3),selected:null}),r=()=>n({data:ve(1e4),selected:null}),o=()=>n("data",e=>[...e,...ve(1e3)]),i=()=>n("data",{by:10},"label",e=>e+" !!!"),s=()=>n("data",e=>e.length>998?{1:e[998],998:e[1]}:e),u=()=>n({data:[],selected:null}),c=e=>n("selected",e),a=e=>n("data",t=>{const n=t.findIndex(t=>t.id===e);return[...t.slice(0,n),...t.slice(n+1)]});return function(){const e=he.content.firstChild.cloneNode(!0),n=e.firstChild,f=n.firstChild.firstChild.nextSibling.firstChild,d=f.firstChild,h=d.nextSibling,p=h.nextSibling,g=p.nextSibling,y=g.nextSibling,m=y.nextSibling,b=n.nextSibling,v=b.firstChild,x=b.nextSibling;return F(f,xe({id:"run",text:"Create 1,000 rows",fn:l}),null,d),F(f,xe({id:"runlots",text:"Create 10,000 rows",fn:r}),null,h),F(f,xe({id:"add",text:"Append 1,000 rows",fn:o}),null,p),F(f,xe({id:"update",text:"Update every 10th row",fn:i}),null,g),F(f,xe({id:"clear",text:"Clear",fn:u}),null,y),F(f,xe({id:"swaprows",text:"Swap Rows",fn:s}),null,m),K(v,()=>t.data,e=>(({state:e,row:t,select:n,remove:l})=>(function(){const r=de.content.firstChild.cloneNode(!0),o=r.firstChild,i=o.nextSibling,s=i.nextSibling,u=s.nextSibling;return k(()=>r.className=e.selected===t.id?"danger":""),F(o,()=>t.id),F(r,Ce({className:"col-md-4",children:[(()=>{const e=ae.content.firstChild.cloneNode(!0);return e.__click=(()=>{n(t.id)}),F(e,()=>t.label),e})()]}),null,i),F(r,Ce({className:"col-md-1",children:[(()=>{const e=fe.content.firstChild.cloneNode(!0);return e.__click=(()=>{l(t.id)}),F(e,we({preload:!1})),e})()]}),null,s),F(r,Ce({className:"col-md-6"}),null,u),r})())({state:t,row:e,select:c,remove:a}),{}),F(e,we({preload:!0}),null,x),e}()};le(()=>document.getElementById("main").appendChild(Se())),function(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];R.has(n)||(R.add(n),document.addEventListener(n,q))}}(["click"])}();

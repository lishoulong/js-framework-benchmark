!function(){"use strict";var e=function(e,n){var t=new r(e,n);return function(){return t.current()}};Object.defineProperty(e,"default",{value:e}),e.root=function(e){var n=p,t=0===e.length?g:new r(null,null),l=void 0,o=0===e.length?null:function(){null!==d?f.disposes.add(t):A(t)};return p=t,null===d?l=function(e,n,t){try{return null===n?e():e(n)}finally{p=t}}(e,o,n):(l=null===o?e():e(o),p=n),l},e.on=function(n,t,l,r){var o;return Array.isArray(n)&&(o=n,n=function(){for(var e=0;e<o.length;e++)o[e]()}),r=!!r,e(i,l);function i(e){var l=h;return n(),r?r=!1:(h=null,e=t(e),h=l),e}},e.effect=function(e,n){new r(e,n)},e.data=function(e){var n=new l(e);return function(e){return 0===arguments.length?n.current():n.next(e)}},e.value=function(n,t){var l=e.data(n),r=-1;return function(e){if(0===arguments.length)return l();if(!(t?t(n,e):n===e)){var o=f.time;if(r===o)throw new Error("conflicting values: "+e+" is not the same as "+n);r=o,n=e,l(e)}return e}},e.freeze=function(e){var n=void 0;if(null!==d)n=e();else{(d=f).changes.reset();try{n=e(),m()}finally{d=null}}return n},e.sample=function(e){var n,t=h;return null!==t?(h=null,n=e(),h=t):n=e(),n},e.cleanup=function(e){null!==p?null===p.cleanups?p.cleanups=[e]:p.cleanups.push(e):console.warn("cleanups created without a root or parent will never be run")},e.makeDataNode=function(e){return new l(e)},e.makeComputationNode=function(e,n){return new r(e,n)},e.isFrozen=function(){return null!==d},e.isListening=function(){return null!==h};var n=function(){return function(){this.time=0,this.changes=new i,this.updates=new i,this.disposes=new i}}(),t={time:function(){return f.time}},l=function(){function e(e){this.value=e,this.pending=s,this.log=null}return e.prototype.current=function(){return null!==h&&function(e,n){null===e.log&&(e.log=new o);y(e.log,n)}(this,h),this.value},e.prototype.next=function(e){if(null!==d)if(this.pending!==s){if(e!==this.pending)throw new Error("conflicting changes: "+e+" !== "+this.pending)}else this.pending=e,f.changes.add(this);else null!==this.log?(this.pending=e,f.changes.add(this),m()):this.value=e;return e},e.prototype.clock=function(){return t},e}(),r=function(){function e(e,n){if(this.state=u,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=e,this.value=n,this.age=f.time,null!==e){var t=p,l=h;null===t&&console.warn("computations created without a root or parent will never be disposed"),p=h=this,null===d?function(e){d=f,f.changes.reset(),f.updates.reset();try{e.value=e.fn(e.value),(f.changes.count>0||f.updates.count>0)&&(f.time++,b(f))}finally{d=p=h=null}}(this):this.value=this.fn(this.value),t&&t!==g&&(null===t.owned?t.owned=[this]:t.owned.push(this)),p=t,h=l}}return e.prototype.current=function(){if(null!==h){if(this.age===f.time){if(this.state===a)throw new Error("circular dependency");C(this)}!function(e,n){null===e.log&&(e.log=new o);y(e.log,n)}(this,h)}return this.value},e.prototype.clock=function(){return t},e}(),o=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),i=function(){function e(){this.items=[],this.count=0}return e.prototype.reset=function(){this.count=0},e.prototype.add=function(e){this.items[this.count++]=e},e.prototype.run=function(e){for(var n=this.items,t=0;t<this.count;t++)e(n[t]),n[t]=null;this.count=0},e}(),s={},u=0,c=1,a=2,f=new n,d=null,h=null,p=null,g=new r(null,null);function y(e,n){var t,l=null===n.source1?-1:null===n.sources?0:n.sources.length;null===e.node1?(e.node1=n,e.node1slot=l,t=-1):null===e.nodes?(e.nodes=[n],e.nodeslots=[l],t=0):(t=e.nodes.length,e.nodes.push(n),e.nodeslots.push(l)),null===n.source1?(n.source1=e,n.source1slot=t):null===n.sources?(n.sources=[e],n.sourceslots=[t]):(n.sources.push(e),n.sourceslots.push(t))}function m(){var e=p;f.updates.reset(),f.time++;try{b(f)}finally{d=h=null,p=e}}function b(e){var n=d,t=0;for(d=e,e.disposes.reset();0!==e.changes.count||0!==e.updates.count||0!==e.disposes.count;)if(t>0&&e.time++,e.changes.run(v),e.updates.run(C),e.disposes.run(A),t++>1e5)throw new Error("Runaway clock detected");d=n}function v(e){e.value=e.pending,e.pending=s,e.log&&x(e.log)}function x(e){var n=e.node1,t=e.nodes;if(null!==n&&w(n),null!==t)for(var l=0,r=t.length;l<r;l++)w(t[l])}function w(e){var n=f.time;e.age<n&&(e.age=n,e.state=c,f.updates.add(e),null!==e.owned&&function e(n){for(var t=0;t<n.length;t++){var l=n[t];l.age=f.time,l.state=u,null!==l.owned&&e(l.owned)}}(e.owned),null!==e.log&&x(e.log))}function C(e){if(e.state===c){var n=p,t=h;p=h=e,e.state=a,S(e,!1),e.value=e.fn(e.value),e.state=u,p=n,h=t}}function S(e,n){var t,l,r=e.source1,o=e.sources,i=e.sourceslots,s=e.cleanups,u=e.owned;if(null!==s){for(t=0;t<s.length;t++)s[t](n);e.cleanups=null}if(null!==u){for(t=0;t<u.length;t++)A(u[t]);e.owned=null}if(null!==r&&(N(r,e.source1slot),e.source1=null),null!==o)for(t=0,l=o.length;t<l;t++)N(o.pop(),i.pop())}function N(e,n){var t,l,r=e.nodes,o=e.nodeslots;-1===n?e.node1=null:(t=r.pop(),l=o.pop(),n!==r.length&&(r[n]=t,o[n]=l,-1===l?t.source1slot=n:t.sourceslots[l]=n))}function A(e){e.fn=null,e.log=null,S(e,!0)}const k=e,_=e.root,T=e.sample,E=e.cleanup,j="__rGroup",L="nextSibling",M="previousSibling";let z=0;function O(e,n,t,l){if(Array.isArray(n)){if(!n.length)return;let r=(n=function e(n,t){for(let l=0,r=t.length;l<r;l++){let r=t[l];r instanceof Node?11===r.nodeType?e(n,r.childNodes):n.push(r):null==r||!0===r||!1===r||(Array.isArray(r)?e(n,r):"string"==typeof r?n.push(document.createTextNode(r)):n.push(document.createTextNode(r.toString())))}return n}([],n))[0];1!==n.length&&(r[j]=n[n.length-1][j]=l);for(let l=0;l<n.length;l++)t?e.insertBefore(n[l],t):e.appendChild(n[l]);return r}let r,o=typeof n;return"string"===o||"number"===o?n=document.createTextNode(n):11===n.nodeType&&(r=n.firstChild)&&r!==n.lastChild&&(r[j]=n.lastChild[j]=l),t?e.insertBefore(n,t):e.appendChild(n),r||n}function B(e,n,t){const l=e[j];if(l)for(e=e[n];e&&e[j]!==l;)e=e[n];return t?e:e[n]}function H(e,n,t){let l;for(;n!==t;)l=n.nextSibling,e.removeChild(n),n=l}function P(e,n,t,l){return t?(Array.isArray(n)?l=n[0]:null!=n&&""!=n&&void 0===l&&(l=B(t.previousSibling,M,!0)),l&&H(e,l,t),""):e.textContent=""}function D(e,n,t,l){if(n===t)return t;e=l&&l.parentNode||e;const r=typeof n;if("string"===r||"number"===r)if("number"===r&&(n=n.toString()),l){if(""===n)P(e,t,l);else if(""!==t&&"string"==typeof t)l.previousSibling.data=n;else{const r=document.createTextNode(n);""!==t&&null!=t?e.replaceChild(r,l.previousSibling):e.insertBefore(r,l)}t=n}else t=""!==t&&"string"==typeof t?e.firstChild.data=n:e.textContent=n;else if(null==n||"boolean"===r)t=P(e,t,l);else if("function"===r)k(function(){t=D(e,n(),t,l)});else{if(!(n instanceof Node||Array.isArray(n)))throw new Error("content must be Node, stringable, or array of same");P(e,t,l),O(e,n,l,++z),t=n}return t}function F(e,n,t,l){if("function"!=typeof n)return D(e,n,t,l);k((r=t)=>D(e,n(),r,l))}const R=new Set;function $(e){return e&&(e.model||$(e.host||e.parentNode))}function q(e){const n=`__${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t});null!==t;){const l=t[n];if(l){if(l(e,l.length>1?$(t):void 0),e.cancelBubble)return}t=t.host||t.parentNode}}function I(e,n,t,l){let r;for(;n!==t;)r=n.nextSibling,e.insertBefore(n,l),n=r}function G(e,n){let t;(t=e.get(n))&&t(),e.delete(n)}function J(e,n){let t=-1,l=e.length;if(l>0&&e[l-1]<=n)return l-1;for(;l-t>1;){let r=Math.floor((t+l)/2);e[r]>n?l=r:t=r}return t}function K(e,n,t,l,r){let o=new Map,i=!1,s=r?r.previousSibling:null;const{afterRender:u,fallback:c}=l;function a(n,l,r){return _(i=>{const s=O(e,t(n,l),r,++z);return o.set(s,i),s})}function f(){u&&u(s?s.nextSibling:e.firstChild,r)}function d(){for(let e of o.keys())o.get(e)();o.clear()}E(d),k((t=[])=>{const l=n()||[];return T(()=>{e=r&&r.parentNode||e;const n=l.length;if(0===n||i){if(void 0!==s||void 0!==r){let n=null!=s?s.nextSibling:e.firstChild;H(e,n,void 0===r?null:r)}else e.textContent="";if(d(),0===n)return f(),c&&(i=!0,_(n=>{const t=O(e,c(),r,++z);o.set(t,n)})),[];i=!1}if(0===t.length){for(let e=0;e<n;e++)a(l[e],e,r);return f(),l.slice(0)}let u,h,p=0,g=0,y=!0,m=t.length-1,b=n-1,v=s?s.nextSibling:e.firstChild,x=v,w=r?r.previousSibling:e.lastChild,C=r;e:for(;y;){let n;for(y=!1,u=t[p],h=l[g];u===h;){if(p++,g++,x=v=B(v,L),m<p||b<g)break e;u=t[p],h=l[g]}for(u=t[m],h=l[b];u===h;){if(m--,b--,w=(C=B(w,M,!0)).previousSibling,m<p||b<g)break e;u=t[m],h=l[b]}for(u=t[m],h=l[g];u===h;){y=!0;let r=(n=B(w,M)).nextSibling;if(x!==r&&(I(e,r,w.nextSibling,x),w=n),g++,--m<p||b<g)break e;u=t[m],h=l[g]}for(u=t[p],h=l[b];u===h;){if(y=!0,n=B(v,L),v!==C){let t=n.previousSibling;I(e,v,n,C),C=t,v=n}if(b--,m<++p||b<g)break e;u=t[p],h=l[b]}}if(b<g){if(p<=m){let n,t;for(;p<=m;)n=(t=B(w,M,!0)).previousSibling,H(e,t,w.nextSibling),G(o,t),w=n,m--}return f(),l.slice(0)}if(m<p){if(g<=b)for(;g<=b;)a(l[g],g,C),g++;return f(),l.slice(0)}const S=new Array(b+1-g);for(let e=g;e<=b;e++)S[e]=-1;const N=new Map;for(let e=g;e<=b;e++)N.set(l[e],e);let A=0,k=[];for(let e=p;e<=m;e++)N.has(t[e])?(S[N.get(t[e])]=e,A++):k.push(e);if(0===A){const n=v!==e.firstChild||w!==e.lastChild;let t,r=v;for(C=w.nextSibling;r!==C;)t=B(r,L),G(o,r),n&&H(e,r,t),r=t,p++;!n&&(e.textContent="");for(let e=g;e<=b;e++)a(l[e],e,C);return f(),l.slice(0)}const T=function(e,n){let t=[],l=[],r=-1,o=new Array(e.length);for(let i=n,s=e.length;i<s;i++){let n=e[i];if(n<0)continue;let s=J(t,n);-1!==s&&(o[i]=l[s]),s===r?(t[++r]=n,l[r]=i):n<t[s+1]&&(t[s+1]=n,l[s+1]=i)}for(let e=l[r];r>=0;e=o[e],r--)t[r]=e;return t}(S,g),E=[];let j,P=v,D=T.length-1;for(let e=p;e<=m;e++)E[e]=P,P=B(P,L);for(let n=0;n<k.length;n++){let t=E[k[n]];H(e,t,B(t,L)),G(o,t)}for(let n=b;n>=g;n--)T[D]===n?(C=E[S[T[D]]],D--):(-1===S[n]?j=a(l[n],n,C):(j=E[S[n]],I(e,j,B(j,L),C)),C=j);return f(),l.slice(0)})})}const U=Symbol("solid-node"),Q=Symbol("solid-proxy");function V(e){return e[Q]||(e[Q]=new Proxy(e,Z))}function W(e){return null!==e&&"object"==typeof e&&(e.__proto__===Object.prototype||Array.isArray(e))}function X(e){let n,t,l;if(n=null!=e&&e._state)return n;if(!W(e))return e;if(Array.isArray(e)){Object.isFrozen(e)&&(e=e.slice(0));for(let n=0,r=e.length;n<r;n++)(t=X(l=e[n]))!==l&&(e[n]=t)}else{Object.isFrozen(e)&&(e=Object.assign({},e));let n=Object.keys(e);for(let r=0,o=n.length;r<o;r++)(t=X(l=e[n[r]]))!==l&&(e[n[r]]=t)}return e}function Y(e){let n=e[U];return n||(e[U]=n={}),n}const Z={get(n,t){if("_state"===t)return n;if(t===Q||t===U)return;const l=n[t],r=W(l);if(e.isListening()&&"function"!=typeof l){let o,i;r&&(o=Y(l))&&(i=o._self||(o._self=e.makeDataNode(void 0))).current(),(i=(o=Y(n))[t]||(o[t]=e.makeDataNode(void 0))).current()}return r?V(l):l},set:()=>!0,deleteProperty:()=>!0};function ee(e,n,t){if(t=X(t),e[n]===t)return;const l=Array.isArray(e)||!(n in e);void 0===t?delete e[n]:e[n]=t;let r,o=Y(e);(r=o[n])&&r.next(),l&&(r=o._self)&&r.next()}function ne(e,n){const t=Object.keys(n);for(let l=0;l<t.length;l+=1){const r=t[l];ee(e,r,n[r])}}function te(e,n,t=[]){if(1===n.length){let l=n[0];if("function"==typeof l&&void 0===(l=l(V(e),t)))return;return void ne(e,l)}const l=n.shift(),r=typeof l,o=Array.isArray(e);if(Array.isArray(l))for(let r=0;r<l.length;r++)te(e,[l[r]].concat(n),t.concat([l[r]]));else if(o&&"function"===r)for(let r=0;r<e.length;r++)l(e[r],r)&&te(e,[r].concat(n),t.concat([r]));else if(o&&"object"===r){const{from:r=0,to:o=e.length-1,by:i=1}=l;for(let l=r;l<=o;l+=i)te(e,[l].concat(n),t.concat([l]))}else if(o&&"*"===l)for(let l=0;l<e.length;l++)te(e,[l].concat(n),t.concat([l]));else if(1===n.length){let r=n[0];if("function"==typeof r){const n=e[l];r=r(W(n)?V(n):n,t.concat([l]))}W(e[l])&&W(r)&&!Array.isArray(r)?ne(e[l],r):ee(e,l,r)}else te(e[l],n,t.concat([l]))}const{root:le,cleanup:re,sample:oe,freeze:ie}=e,se=document.createElement("template"),ue=document.createElement("template"),ce=document.createElement("template"),ae=document.createElement("template"),fe=document.createElement("template"),de=document.createElement("template"),he=document.createElement("template");se.innerHTML="<div class='col-sm-6 smallpad'><button class='btn btn-primary btn-block' type='button'></button></div>",ue.innerHTML="<span aria-hidden='true'></span>",ce.innerHTML="<td></td>",ae.innerHTML="<a></a>",fe.innerHTML="<a></a>",de.innerHTML="<tr><td class='col-md-1'></td>\x3c!--10--\x3e\x3c!--12--\x3e\x3c!--13--\x3e</tr>",he.innerHTML="<div class='container'><div class='jumbotron'><div class='row'><div class='col-md-6'><h1>SolidJS Keyed</h1></div><div class='col-md-6'><div class='row'>\x3c!--20--\x3e\x3c!--21--\x3e\x3c!--22--\x3e\x3c!--23--\x3e\x3c!--24--\x3e\x3c!--25--\x3e</div></div></div></div><table class='table table-hover table-striped test-data'><tbody></tbody></table>\x3c!--28--\x3e</div>";let pe=1;const ge=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],ye=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],me=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];let be=0;const ve=e=>be++%e;function xe(e){let n=new Array(e);for(let t=0;t<e;t++)n[t]={id:pe++,label:`${ge[ve(ge.length)]} ${ye[ve(ye.length)]} ${me[ve(me.length)]}`};return n}const we=({id:e,text:n,fn:t})=>(function(){const l=se.content.firstChild.cloneNode(!0),r=l.firstChild;return r.__click=t,r.id=e,F(r,n),l})(),Ce=({preload:e})=>(function(){const n=ue.content.firstChild.cloneNode(!0);return k(()=>n.className=e?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove"),n})(),Se=({className:e,children:n})=>(function(){const t=document.createDocumentFragment(),l=t.insertBefore(document.createTextNode(""),t.firstChild);return function(e,n,t,l,r){let o,i,s;const{afterRender:u,fallback:c}=l;r&&(o=r.previousSibling),E(function(){s&&s()}),k(l=>{const a=n();return a===l?l:T(()=>(e=r&&r.parentNode||e,s&&s(),null==a||!1===a?(P(e,i,r,o?o.nextSibling:e.firstChild),i=null,u&&u(i,r),c&&_(n=>{s=n,i=D(e,c(),i,r)}),a):(_(n=>{s=n,i=D(e,t(a),i,r)}),u&&u(i,r),a)))})}(t,()=>e,()=>(function(){const t=ce.content.firstChild.cloneNode(!0);return k(()=>t.className=e),F(t,n),t})(),{},l),t})(),Ne=()=>{const[n,t]=function(n){return[V(n=X(n||{})),function(){const t=arguments;e.freeze(()=>{if(Array.isArray(t[0]))for(let e=0;e<t.length;e+=1)te(n,t[e]);else te(n,Array.prototype.slice.call(t))})}]}({data:[],selected:null}),l=()=>t({data:xe(1e3),selected:null}),r=()=>t({data:xe(1e4),selected:null}),o=()=>t("data",e=>[...e,...xe(1e3)]),i=()=>t("data",{by:10},"label",e=>e+" !!!"),s=()=>t("data",e=>e.length>998?{1:e[998],998:e[1]}:e),u=()=>t({data:[],selected:null}),c=e=>t("selected",e),a=e=>t("data",n=>{const t=n.findIndex(n=>n.id===e);return[...n.slice(0,t),...n.slice(t+1)]});return function(){const e=he.content.firstChild.cloneNode(!0),t=e.firstChild,f=t.firstChild.firstChild.nextSibling.firstChild,d=f.firstChild,h=d.nextSibling,p=h.nextSibling,g=p.nextSibling,y=g.nextSibling,m=y.nextSibling,b=t.nextSibling,v=b.firstChild,x=b.nextSibling;return F(f,we({id:"run",text:"Create 1,000 rows",fn:l}),null,d),F(f,we({id:"runlots",text:"Create 10,000 rows",fn:r}),null,h),F(f,we({id:"add",text:"Append 1,000 rows",fn:o}),null,p),F(f,we({id:"update",text:"Update every 10th row",fn:i}),null,g),F(f,we({id:"clear",text:"Clear",fn:u}),null,y),F(f,we({id:"swaprows",text:"Swap Rows",fn:s}),null,m),K(v,()=>n.data,e=>(({state:e,row:n,select:t,remove:l})=>(function(){const r=de.content.firstChild.cloneNode(!0),o=r.firstChild,i=o.nextSibling,s=i.nextSibling,u=s.nextSibling;return k(()=>r.className=e.selected===n.id?"danger":""),F(o,()=>n.id),F(r,Se({className:"col-md-4",children:[(()=>{const e=ae.content.firstChild.cloneNode(!0);return e.__click=(()=>{t(n.id)}),F(e,()=>n.label),e})()]}),null,i),F(r,Se({className:"col-md-1",children:[(()=>{const e=fe.content.firstChild.cloneNode(!0);return e.__click=(()=>{l(n.id)}),F(e,Ce({preload:!1})),e})()]}),null,s),F(r,Se({className:"col-md-6"}),null,u),r})())({state:n,row:e,select:c,remove:a}),{}),F(e,Ce({preload:!0}),null,x),e}()};le(()=>document.getElementById("main").appendChild(Ne())),function(e){for(let n=0,t=e.length;n<t;n++){const t=e[n];R.has(t)||(R.add(t),document.addEventListener(t,q))}}(["click"])}();

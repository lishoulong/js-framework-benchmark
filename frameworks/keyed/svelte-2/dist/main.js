function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function a(e){e.forEach(n)}function o(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t}function l(e,n,r){return e[1]?t({},t(n.$$scope.ctx,e[1](r?r(n):{}))):n.$$scope.ctx}function i(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function g(e,t){t=""+t,e.data!==t&&(e.data=t)}let h;function b(e){h=e}const y=[],w=Promise.resolve();let v=!1;const N=[],x=[],k=[];function _(e){x.push(e)}function C(){const e=new Set;do{for(;y.length;){const e=y.shift();b(e),L(e.$$)}for(;N.length;)N.shift()();for(;x.length;){const t=x.pop();e.has(t)||(t(),e.add(t))}}while(y.length);for(;k.length;)k.pop()();v=!1}function L(e){e.fragment&&(e.update(e.dirty),a(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(_))}let E;function M(e,t){var n;n=(()=>{!function(e,t){e.d(1),t.delete(e.key)}(e,t)}),E.callbacks.push(n),e.o(1)}function S(e,t,r){const{fragment:c,on_mount:s,on_destroy:l,after_render:i}=e.$$;c.m(t,r),_(()=>{const t=s.map(n).filter(o);l?l.push(...t):a(t),e.$$.on_mount=[]}),i.forEach(_)}function A(e,t){e.$$.dirty||(y.push(e),v||(v=!0,w.then(C)),e.$$.dirty=r()),e.$$.dirty[t]=!0}function U(t,n,o,c,s,l){const i=h;b(t);const d=n.props||{},$=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(i?i.$$.context:[]),callbacks:r(),dirty:null};let u=!1;var f;$.ctx=o?o(t,d,(e,n)=>{$.ctx&&s($.ctx[e],$.ctx[e]=n)&&($.bound[e]&&$.bound[e](n),u&&A(t,e))}):d,$.update(),u=!0,a($.before_render),$.fragment=c($.ctx),n.target&&(n.hydrate?$.fragment.l((f=n.target,Array.from(f.childNodes))):$.fragment.c(),n.intro&&t.$$.fragment.i&&t.$$.fragment.i(),S(t,n.target,n.anchor),C()),b(i)}class j{$destroy(){var t,n;n=!0,(t=this).$$&&(a(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function q(t){var n,r,a,o;return{c(){n=u("div"),r=u("button"),a=f(t.title),r.type="button",r.className="btn btn-primary btn-block",r.id=t.id,n.className="col-sm-6 smallpad",o=m(r,"click",t.cb)},m(e,t){d(e,n,t),i(n,r),i(r,a)},p(e,t){e.title&&g(a,t.title),e.id&&(r.id=t.id)},i:e,o:e,d(e){e&&$(n),o()}}}function R(e,t,n){let{id:r,title:a,cb:o}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"title"in e&&n("title",a=e.title),"cb"in e&&n("cb",o=e.cb)}),{id:r,title:a,cb:o}}class z extends j{constructor(e){super(),U(this,e,R,q,s,["id","title","cb"])}}function I(t){var n,r;return{c(){var e,a,o;(n=u("span")).className=r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove",e=n,a="aria-hidden",null==(o="true")?e.removeAttribute(a):e.setAttribute(a,o)},m(e,t){d(e,n,t)},p(e,t){e.preload&&r!==(r=t.preload?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove")&&(n.className=r)},i:e,o:e,d(e){e&&$(n)}}}function O(e,t,n){let{preload:r=!1}=t;return e.$set=(e=>{"preload"in e&&n("preload",r=e.preload)}),{preload:r}}class T extends j{constructor(e){super(),U(this,e,O,I,s,["preload"])}}function B(e){var n,r;const a=e.$$slots.default,o=function(e,t,n){if(e){const r=l(e,t,n);return e[0](r)}}(a,e,null);return{c(){n=u("td"),o&&o.c(),n.className=e.className},l(e){o&&o.l(td_nodes)},m(e,t){d(e,n,t),o&&o.m(n,null),r=!0},p(e,c){o&&o.p&&e.$$scope&&o.p(function(e,n,r,a){return e[1]?t({},t(n.$$scope.changed||{},e[1](a?a(r):{}))):n.$$scope.changed||{}}(a,c,e,null),l(a,c,null)),r&&!e.className||(n.className=c.className)},i(e){r||(o&&o.i&&o.i(e),r=!0)},o(e){o&&o.o&&o.o(e),r=!1},d(e){e&&$(n),o&&o.d(e)}}}function H(e,t,n){let{className:r}=t,{$$slots:a={},$$scope:o}=t;return e.$set=(e=>{"className"in e&&n("className",r=e.className),"$$scope"in e&&n("$$scope",o=e.$$scope)}),{className:r,$$slots:a,$$scope:o}}class P extends j{constructor(e){super(),U(this,e,H,B,s,["className"])}}function V(e){var t;return{c(){t=f(e.id)},m(e,n){d(e,t,n)},p(e,n){e.id&&g(t,n.id)},d(e){e&&$(t)}}}function D(e){var t,n;return{c(){t=u("a"),n=f(e.label)},m(e,r){d(e,t,r),i(t,n)},p(e,t){e.label&&g(n,t.label)},d(e){e&&$(t)}}}function F(e){var t,n,r=new T({});return{c(){t=u("a"),r.$$.fragment.c()},m(e,a){d(e,t,a),S(r,t,null),n=!0},i(e){n||(r.$$.fragment.i(e),n=!0)},o(e){r.$$.fragment.o(e),n=!1},d(e){e&&$(t),r.$destroy()}}}function G(e){var t,n,r,a,o,c,s=new P({props:{className:"col-md-1",$$slots:{default:[V]},$$scope:{ctx:e}}}),l=new P({props:{className:"col-md-4",$$slots:{default:[D]},$$scope:{ctx:e}}}),f=new P({props:{className:"col-md-1",$$slots:{default:[F]},$$scope:{ctx:e}}}),m=new P({props:{className:"col-md-6"}});return{c(){t=u("tr"),s.$$.fragment.c(),n=p(),l.$$.fragment.c(),r=p(),f.$$.fragment.c(),a=p(),m.$$.fragment.c(),t.className=o=e.selected?"danger":""},m(e,o){d(e,t,o),S(s,t,null),i(t,n),S(l,t,null),i(t,r),S(f,t,null),i(t,a),S(m,t,null),c=!0},p(e,n){var r={};(e.$$scope||e.id)&&(r.$$scope={changed:e,ctx:n}),s.$set(r);var a={};(e.$$scope||e.label)&&(a.$$scope={changed:e,ctx:n}),l.$set(a);var i={};e.$$scope&&(i.$$scope={changed:e,ctx:n}),f.$set(i),c&&!e.selected||o===(o=n.selected?"danger":"")||(t.className=o)},i(e){c||(s.$$.fragment.i(e),l.$$.fragment.i(e),f.$$.fragment.i(e),m.$$.fragment.i(e),c=!0)},o(e){s.$$.fragment.o(e),l.$$.fragment.o(e),f.$$.fragment.o(e),m.$$.fragment.o(e),c=!1},d(e){e&&$(t),s.$destroy(),l.$destroy(),f.$destroy(),m.$destroy()}}}function J(e,t,n){let{id:r,label:a,selected:o}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"label"in e&&n("label",a=e.label),"selected"in e&&n("selected",o=e.selected)}),{id:r,label:a,selected:o}}class K extends j{constructor(e){super(),U(this,e,J,G,c,["id","label","selected"])}}function Q(e,t,n){const r=Object.create(e);return r.row=t[n],r.num=n,r}function W(e,t){var n,r,a=new K({props:{id:t.row.id,label:t.row.label,selected:t.row.id===t.selected}});return{key:e,first:null,c(){n=f(""),a.$$.fragment.c(),this.first=n},m(e,t){d(e,n,t),S(a,e,t),r=!0},p(e,t){var n={};e.data&&(n.id=t.row.id),e.data&&(n.label=t.row.label),(e.data||e.selected)&&(n.selected=t.row.id===t.selected),a.$set(n)},i(e){r||(a.$$.fragment.i(e),r=!0)},o(e){a.$$.fragment.o(e),r=!1},d(e){e&&$(n),a.$destroy(e)}}}function X(e){var t,n,r,o,c,s,l,f,g,h,b,y,w,v,N,x,k,_=[],C=new Map,L=new z({props:{id:"run",title:"Create 1,000 rows",cb:e.run}}),A=new z({props:{id:"runlots",title:"Create 10,000 rows",cb:e.runLots}}),U=new z({props:{id:"add",title:"Append 1,000 rows",cb:e.add}}),j=new z({props:{id:"update",title:"Update every 10th row",cb:e.partialUpdate}}),q=new z({props:{id:"clear",title:"Clear",cb:e.clear}}),R=new z({props:{id:"swaprows",title:"Swap rows",cb:e.swapRows}}),I=e.data;const O=e=>e.row.id;for(var B=0;B<I.length;B+=1){let t=Q(e,I,B),n=O(t);C.set(n,_[B]=W(n,t))}var H=new T({props:{preload:!0}});return{c(){for(t=u("div"),n=u("div"),(r=u("div")).innerHTML="<h1>Svelte (keyed)</h1>",o=p(),c=u("div"),s=u("div"),L.$$.fragment.c(),l=p(),A.$$.fragment.c(),f=p(),U.$$.fragment.c(),g=p(),j.$$.fragment.c(),h=p(),q.$$.fragment.c(),b=p(),R.$$.fragment.c(),y=p(),w=u("table"),v=u("tbody"),B=0;B<_.length;B+=1)_[B].c();N=p(),H.$$.fragment.c(),r.className="col-md-6",s.className="row",c.className="col-md-6",n.className="row",t.className="jumbotron",w.className="table table-hover table-striped test-data",k=m(v,"click",e.click)},m(e,a){for(d(e,t,a),i(t,n),i(n,r),i(n,o),i(n,c),i(c,s),S(L,s,null),i(s,l),S(A,s,null),i(s,f),S(U,s,null),i(s,g),S(j,s,null),i(s,h),S(q,s,null),i(s,b),S(R,s,null),d(e,y,a),d(e,w,a),i(w,v),B=0;B<_.length;B+=1)_[B].m(v,null);d(e,N,a),S(H,e,a),x=!0},p(e,t){var n={};e.run&&(n.cb=t.run),L.$set(n);var r={};e.runLots&&(r.cb=t.runLots),A.$set(r);var o={};e.add&&(o.cb=t.add),U.$set(o);var c={};e.partialUpdate&&(c.cb=t.partialUpdate),j.$set(c);var s={};e.clear&&(s.cb=t.clear),q.$set(s);var l={};e.swapRows&&(l.cb=t.swapRows),R.$set(l);const i=t.data;E={remaining:0,callbacks:[]},_=function(e,t,n,r,a,o,c,s,l,i,d,$){let u=e.length,f=o.length,p=u;const m={};for(;p--;)m[e[p].key]=p;const g=[],h=new Map,b=new Map;for(p=f;p--;){const e=$(a,o,p),s=n(e);let l=c.get(s);l?r&&l.p(t,e):(l=i(s,e)).c(),h.set(s,g[p]=l),s in m&&b.set(s,Math.abs(p-m[s]))}const y=new Set,w=new Set;function v(e){e.i&&e.i(1),e.m(s,d),c.set(e.key,e),d=e.first,f--}for(;u&&f;){const t=g[f-1],n=e[u-1],r=t.key,a=n.key;t===n?(d=t.first,u--,f--):h.has(a)?!c.has(r)||y.has(r)?v(t):w.has(a)?u--:b.get(r)>b.get(a)?(w.add(r),v(t)):(y.add(a),u--):(l(n,c),u--)}for(;u--;){const t=e[u];h.has(t.key)||l(t,c)}for(;f;)v(g[f-1]);return g}(_,e,O,1,t,i,C,v,M,W,null,Q),E.remaining||a(E.callbacks)},i(e){if(!x){L.$$.fragment.i(e),A.$$.fragment.i(e),U.$$.fragment.i(e),j.$$.fragment.i(e),q.$$.fragment.i(e),R.$$.fragment.i(e);for(var t=0;t<I.length;t+=1)_[t].i();H.$$.fragment.i(e),x=!0}},o(e){for(L.$$.fragment.o(e),A.$$.fragment.o(e),U.$$.fragment.o(e),j.$$.fragment.o(e),q.$$.fragment.o(e),R.$$.fragment.o(e),B=0;B<_.length;B+=1)_[B].o();H.$$.fragment.o(e),x=!1},d(e){for(e&&$(t),L.$destroy(),A.$destroy(),U.$destroy(),j.$destroy(),q.$destroy(),R.$destroy(),e&&($(y),$(w)),B=0;B<_.length;B+=1)_[B].d();e&&$(N),H.$destroy(e),k()}}}function Y(e,t,n){let r=0;const a=e=>{const t=r++%e;return n("seed",r),t},o=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],c=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],s=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];let l=1,i=[],d=-1;function $(e){const t=Array(e);for(let r=0;r<e;r++)t[r]={id:l++,label:`${o[a(o.length)]} ${c[a(c.length)]} ${s[a(s.length)]}`},n("nextId",l);return t}return{data:i,selected:d,add:()=>{n("data",i=i.concat($(1e3)))},clear:()=>{n("data",i=[]),n("selected",d=0)},partialUpdate:()=>{for(let e=0;e<i.length;e+=10)i[e].label+=" !!!",n("data",i)},run:()=>{n("data",i=$(1e3)),n("selected",d=0)},runLots:()=>{n("data",i=$(1e4)),n("selected",d=0)},swapRows:()=>{if(i.length>998){n("data",i=i.slice());const e=i[1];i[1]=i[998],n("data",i),i[998]=e,n("data",i)}},click:({target:e})=>{const t=Number.parseInt(e.closest("tr").firstChild.firstChild.nodeValue);e.matches(".glyphicon-remove")?(e=>{const t=i.findIndex(t=>t.id===e);n("data",i=i.slice()),i.splice(t,1)})(t):(e=>{n("selected",d=e)})(t)}}}new class extends j{constructor(e){super(),U(this,e,Y,X,c,[])}}({target:document.querySelector("#main")});

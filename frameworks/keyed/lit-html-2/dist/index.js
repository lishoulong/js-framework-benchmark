!function(){"use strict";const e=new WeakMap,t=t=>"function"==typeof t&&e.has(t),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(e,t,s=null)=>{let n=t;for(;n!==s;){const t=n.nextSibling;e.removeChild(n),n=t}},i={},o={},r=`{{lit-${String(Math.random()).slice(2)}}}`,l=`\x3c!--${r}--\x3e`,a=new RegExp(`${r}|${l}`),d="$lit$";class c{constructor(e,t){this.parts=[],this.element=t;let s=-1,n=0;const i=[],o=t=>{const l=t.content,c=document.createTreeWalker(l,133,null,!1);let h=0;for(;c.nextNode();){s++;const t=c.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const i=t.attributes;let o=0;for(let e=0;e<i.length;e++)i[e].value.indexOf(r)>=0&&o++;for(;o-- >0;){const i=e.strings[n],o=p.exec(i)[2],r=o.toLowerCase()+d,l=t.getAttribute(r).split(a);this.parts.push({type:"attribute",index:s,name:o,strings:l}),t.removeAttribute(r),n+=l.length-1}}"TEMPLATE"===t.tagName&&o(t)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(r)>=0){const o=t.parentNode,r=e.split(a),l=r.length-1;for(let e=0;e<l;e++)o.insertBefore(""===r[e]?u():document.createTextNode(r[e]),t),this.parts.push({type:"node",index:++s});""===r[l]?(o.insertBefore(u(),t),i.push(t)):t.data=r[l],n+=l}}else if(8===t.nodeType)if(t.data===r){const e=t.parentNode;null!==t.previousSibling&&s!==h||(s++,e.insertBefore(u(),t)),h=s,this.parts.push({type:"node",index:s}),null===t.nextSibling?t.data="":(i.push(t),s--),n++}else{let e=-1;for(;-1!==(e=t.data.indexOf(r,e+1));)this.parts.push({type:"node",index:-1})}}};o(t);for(const e of i)e.parentNode.removeChild(e)}}const h=e=>-1!==e.index,u=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class m{constructor(e,t,s){this._parts=[],this.template=e,this.processor=t,this.options=s}update(e){let t=0;for(const s of this._parts)void 0!==s&&s.setValue(e[t]),t++;for(const e of this._parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let n=0,i=0;const o=e=>{const s=document.createTreeWalker(e,133,null,!1);let r=s.nextNode();for(;n<t.length&&null!==r;){const e=t[n];if(h(e))if(i===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(r.previousSibling),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(r,e.name,e.strings,this.options));n++}else i++,"TEMPLATE"===r.nodeName&&o(r.content),r=s.nextNode();else this._parts.push(void 0),n++}};return o(e),s&&(document.adoptNode(e),customElements.upgrade(e)),e}}class g{constructor(e,t,s,n){this.strings=e,this.values=t,this.type=s,this.processor=n}getHTML(){const e=this.strings.length-1;let t="";for(let s=0;s<e;s++){const e=this.strings[s],n=p.exec(e);t+=n?e.substr(0,n.index)+n[1]+n[2]+d+n[3]+r:e+l}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const v=e=>null===e||!("object"==typeof e||"function"==typeof e);class f{constructor(e,t,s){this.dirty=!0,this.element=e,this.name=t,this.strings=s,this.parts=[];for(let e=0;e<s.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new x(this)}_getValue(){const e=this.strings,t=e.length-1;let s="";for(let n=0;n<t;n++){s+=e[n];const t=this.parts[n];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const t of e)s+="string"==typeof t?t:String(t);else s+="string"==typeof e?e:String(e)}}return s+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class x{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===i||v(e)&&e===this.value||(this.value=e,t(e)||(this.committer.dirty=!0))}commit(){for(;t(this.value);){const e=this.value;this.value=i,e(this)}this.value!==i&&this.committer.commit()}}class y{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(u()),this.endNode=e.appendChild(u())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=u()),e._insert(this.endNode=u())}insertAfterPart(e){e._insert(this.startNode=u()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;t(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i,e(this)}const e=this._pendingValue;e!==i&&(v(e)?e!==this.value&&this._commitText(e):e instanceof g?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):e===o?(this.value=o,this.clear()):this._commitText(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof m&&this.value.template===t)this.value.update(e.values);else{const s=new m(t,e.processor,this.options),n=s._clone();s.update(e.values),this._commitNode(n),this.value=s}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let s,n=0;for(const i of e)void 0===(s=t[n])&&(s=new y(this.options),t.push(s),0===n?s.appendIntoPart(this):s.insertAfterPart(t[n-1])),s.setValue(i),s.commit(),n++;n<t.length&&(t.length=n,this.clear(s&&s.endNode))}clear(e=this.startNode){n(this.startNode.parentNode,e.nextSibling,this.endNode)}}class b{constructor(e,t,s){if(this.value=void 0,this._pendingValue=void 0,2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=s}setValue(e){this._pendingValue=e}commit(){for(;t(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i,e(this)}if(this._pendingValue===i)return;const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=i}}class N extends f{constructor(e,t,s){super(e,t,s),this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new _(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class _ extends x{}let w=!1;try{const e={get capture(){return w=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class V{constructor(e,t,s){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=s,this._boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this._pendingValue=e}commit(){for(;t(this._pendingValue);){const e=this._pendingValue;this._pendingValue=i,e(this)}if(this._pendingValue===i)return;const e=this._pendingValue,s=this.value,n=null==e||null!=s&&(e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive),o=null!=e&&(null==s||n);n&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),o&&(this._options=$(e),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=e,this._pendingValue=i}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const $=e=>e&&(w?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const E=new class{handleAttributeExpressions(e,t,s,n){const i=t[0];return"."===i?new N(e,t.slice(1),s).parts:"@"===i?[new V(e,t.slice(1),n.eventContext)]:"?"===i?[new b(e,t.slice(1),s)]:new f(e,t,s).parts}handleTextExpression(e){return new y(e)}};function A(e){let t=T.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},T.set(e.type,t));let s=t.stringsArray.get(e.strings);if(void 0!==s)return s;const n=e.strings.join(r);return void 0===(s=t.keyString.get(n))&&(s=new c(e,e.getTemplateElement()),t.keyString.set(n,s)),t.stringsArray.set(e.strings,s),s}const T=new Map,S=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const k=(e,...t)=>new g(e,t,"html",E),M=(e,t)=>{const s=e.startNode.parentNode,n=void 0===t?e.endNode:t.startNode,i=s.insertBefore(u(),n);s.insertBefore(u(),n);const o=new y(e.options);return o.insertAfterNode(i),o},C=(e,t)=>(e.setValue(t),e.commit(),e),L=(e,t,s)=>{const n=e.startNode.parentNode,i=s?s.startNode:e.endNode,o=t.endNode.nextSibling;o!==i&&((e,t,s=null,n=null)=>{let i=t;for(;i!==s;){const t=i.nextSibling;e.insertBefore(i,n),i=t}})(n,t.startNode,o,i)},B=e=>{n(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},H=(e,t,s)=>{const n=new Map;for(let i=t;i<=s;i++)n.set(e[i],i);return n},P=new WeakMap,I=new WeakMap,W=(t=>(...s)=>{const n=t(...s);return e.set(n,!0),n})((e,t,s)=>{let n;return void 0===s?s=t:void 0!==t&&(n=t),t=>{if(!(t instanceof y))throw new Error("repeat can only be used in text bindings");const i=P.get(t)||[],o=I.get(t)||[],r=[],l=[],a=[];let d,c,h=0;for(const t of e)a[h]=n?n(t,h):h,l[h]=s(t,h),h++;let u=0,p=i.length-1,m=0,g=l.length-1;for(;u<=p&&m<=g;)if(null===i[u])u++;else if(null===i[p])p--;else if(o[u]===a[m])r[m]=C(i[u],l[m]),u++,m++;else if(o[p]===a[g])r[g]=C(i[p],l[g]),p--,g--;else if(o[u]===a[g])r[g]=C(i[u],l[g]),L(t,i[u],r[g+1]),u++,g--;else if(o[p]===a[m])r[m]=C(i[p],l[m]),L(t,i[p],i[u]),p--,m++;else if(void 0===d&&(d=H(a,m,g),c=H(o,u,p)),d.has(o[u]))if(d.has(o[p])){const e=c.get(a[m]),s=void 0!==e?i[e]:null;if(null===s){const e=M(t,i[u]);C(e,l[m]),r[m]=e}else r[m]=C(s,l[m]),L(t,s,i[u]),i[e]=null;m++}else B(i[p]),p--;else B(i[u]),u++;for(;m<=g;){const e=M(t,r[g+1]);C(e,l[m]),r[m++]=e}for(;u<=p;){const e=i[u++];null!==e&&B(e)}P.set(t,r),I.set(t,a)}}),F=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],j=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],O=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],R=e=>Math.round(1e3*Math.random())%e,z=e=>{const t=[];for(let s=0;s<e;s++)t.push({id:U++,label:`${F[R(F.length)]} ${j[R(j.length)]} ${O[R(O.length)]}`});return t};let q=[],U=1,D=0;const G=()=>{q=q.concat(z(1e3)),ee()},J=()=>{q=z(1e3),D=0,ee()},K=()=>{q=z(1e4),D=0,ee()},Q=()=>{q=[],D=0,ee()},X=()=>{if(q.length>998){const e=q[1];q[1]=q[998],q[998]=e}ee()},Y=()=>{for(let e=0;e<q.length;e+=10)q[e].label+=" !!!";ee()},Z=document.getElementById("container"),ee=()=>{((e,t,s)=>{let i=S.get(t);void 0===i&&(n(t,t.firstChild),S.set(t,i=new y(Object.assign({templateFactory:A},s))),i.appendInto(t)),i.setValue(e),i.commit()})(oe(),Z)},te=(e,t,s)=>k`<div class="col-sm-6 smallpad"><button type=button class="btn btn-primary btn-block" id=${e} @click=${t}>${s}</button></div>`,se=e=>k`<span class=${e?"preloadicon glyphicon glyphicon-remove":"glyphicon glyphicon-remove"} aria-hidden=true></span>`,ne=(e,t)=>k`<td class=${e}>${t}</td>`,ie=({id:e,label:t})=>k`<tr class=${D===e?"danger":""}>${ne("col-md-1",e)} ${ne("col-md-4",k`<a @click=${()=>{(e=>{D=e,ee()})(e)}}>${t}</a>`)} ${ne("col-md-1",k`<a @click=${()=>{(e=>{q.splice(q.findIndex(t=>t.id===e),1),ee()})(e)}}>${se()}</a>`)} ${ne("col-md-6")}</tr>`,oe=()=>k`<div class=container><div class=jumbotron><div class=row><div class=col-md-6><h1>Lit-HTML</h1></div><div class=col-md-6><div class=row>${te("run",J,"Create 1,000 rows")} ${te("runlots",K,"Create 10,000 rows")} ${te("add",G,"Append 1,000 rows")} ${te("update",Y,"Update every 10th row")} ${te("clear",Q,"Clear")} ${te("swaprows",X,"Swap Rows")}</div></div></div></div><table class="table table-hover table-striped test-data"><tbody>${W(q,e=>e.id,e=>ie(e))}</tbody></table>${se(!0)}</div>`;ee()}();
